<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noindex, nofollow">
<title>Punky ‚Äî Live Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#050508;--card:#0a0a12;--card2:#0d0d18;--border:#16162a;--accent:#a855f7;--accent2:#ec4899;--cyan:#06b6d4;--green:#10b981;--amber:#f59e0b;--text:#e2e8f0;--muted:#64648a;--nav:#08080e}
body{background:var(--bg);color:var(--text);font-family:'Outfit',system-ui,sans-serif;line-height:1.6;min-height:100vh}

/* NAV */
.gnav{background:var(--nav);border-bottom:1px solid var(--border);padding:0 20px;position:sticky;top:0;z-index:200}
.gnav-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;height:48px;gap:8px}
.gnav-brand{display:flex;align-items:center;gap:8px;text-decoration:none;margin-right:auto}
.gnav-logo{width:28px;height:28px;border-radius:7px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:900;color:#fff}
.gnav-title{font-family:'Syne',sans-serif;font-weight:800;font-size:14px;color:var(--text)}
.gnav-badge{padding:2px 8px;border-radius:99px;font-size:9px;font-weight:700;background:#10b98120;color:var(--green);border:1px solid #10b98130}
.gnav-cta{padding:6px 14px;border-radius:7px;font-size:11px;font-weight:700;background:var(--accent);color:#fff;text-decoration:none}

/* HERO */
.hero{text-align:center;padding:56px 20px 36px;max-width:700px;margin:0 auto}
.hero-tag{display:inline-block;padding:4px 14px;border-radius:99px;font-size:10px;font-weight:700;color:var(--cyan);border:1px solid #06b6d430;background:#06b6d410;margin-bottom:16px;letter-spacing:.8px;text-transform:uppercase}
.hero h1{font-family:'Syne',sans-serif;font-size:42px;font-weight:800;line-height:1.1;letter-spacing:-1.5px;margin-bottom:16px}
.hero h1 span{background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{color:var(--muted);font-size:15px;max-width:520px;margin:0 auto 28px;line-height:1.7}

/* DEMO CARD */
.demo-wrap{max-width:900px;margin:0 auto;padding:0 20px 60px}
.demo-card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden}
.demo-card-header{padding:20px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}
.demo-card-header h2{font-family:'Syne',sans-serif;font-size:16px;font-weight:700}
.demo-card-header p{color:var(--muted);font-size:12px;margin-top:2px}
.demo-dot{width:8px;height:8px;border-radius:50%;background:var(--green);box-shadow:0 0 8px var(--green);flex-shrink:0;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

/* STEPS */
.steps{display:grid;grid-template-columns:1fr 1fr 1fr;gap:0;border-bottom:1px solid var(--border)}
.step{padding:20px 24px;border-right:1px solid var(--border);position:relative}
.step:last-child{border-right:none}
.step-num{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);font-weight:600;margin-bottom:6px}
.step h3{font-size:13px;font-weight:700;margin-bottom:4px}
.step p{font-size:11px;color:var(--muted);line-height:1.5}
.step-status{display:inline-flex;align-items:center;gap:4px;font-size:10px;font-weight:700;padding:2px 8px;border-radius:99px;margin-top:8px}
.step-status.pending{color:var(--muted);background:#ffffff08}
.step-status.active{color:var(--amber);background:#f59e0b18}
.step-status.done{color:var(--green);background:#10b98118}

/* LAUNCH AREA */
.launch{padding:28px 24px}
.launch-form{display:flex;gap:10px;margin-bottom:16px;flex-wrap:wrap}
.launch-select{flex:1;min-width:160px;padding:10px 14px;border-radius:8px;border:1px solid var(--border);background:var(--card2);color:var(--text);font-size:13px;font-family:'Outfit',sans-serif;cursor:pointer}
.launch-btn{padding:10px 24px;border-radius:8px;border:none;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;font-size:13px;font-weight:700;font-family:'Outfit',sans-serif;cursor:pointer;white-space:nowrap;transition:opacity .2s}
.launch-btn:hover{opacity:.85}
.launch-btn:disabled{opacity:.4;cursor:not-allowed}
.launch-note{font-size:11px;color:var(--muted)}

/* TERMINAL */
.terminal{background:#020204;border-radius:10px;border:1px solid var(--border);margin-top:20px;overflow:hidden;display:none}
.terminal.show{display:block}
.terminal-bar{background:#0d0d18;padding:10px 14px;display:flex;align-items:center;gap:6px;border-bottom:1px solid var(--border)}
.t-dot{width:9px;height:9px;border-radius:50%}
.t-dot:nth-child(1){background:#ef4444}
.t-dot:nth-child(2){background:#f59e0b}
.t-dot:nth-child(3){background:#10b981}
.terminal-label{margin-left:8px;font-size:10px;color:var(--muted);font-family:'JetBrains Mono',monospace}
.terminal-body{padding:16px 20px;font-family:'JetBrains Mono',monospace;font-size:12px;line-height:1.7;max-height:280px;overflow-y:auto}
.t-line{margin:0;word-break:break-all}
.t-prompt{color:var(--accent)}
.t-ok{color:var(--green)}
.t-err{color:#ef4444}
.t-dim{color:var(--muted)}
.t-cyan{color:var(--cyan)}
.t-amber{color:var(--amber)}

/* RESULT */
.result-card{background:var(--card2);border-radius:10px;border:1px solid #10b98130;padding:20px;margin-top:20px;display:none}
.result-card.show{display:block}
.result-title{font-size:13px;font-weight:700;color:var(--green);margin-bottom:14px;display:flex;align-items:center;gap:6px}
.result-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px}
.result-item{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:12px}
.result-label{font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;font-weight:600;margin-bottom:4px}
.result-val{font-family:'JetBrains Mono',monospace;font-size:12px;word-break:break-all}
.result-val.green{color:var(--green)}
.result-val.accent{color:var(--accent)}
.result-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
.result-btn{padding:9px 18px;border-radius:7px;font-size:12px;font-weight:700;text-decoration:none;border:none;cursor:pointer;font-family:'Outfit',sans-serif}
.result-btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff}
.result-btn.secondary{background:var(--card);border:1px solid var(--border);color:var(--text)}
.result-btn.copy{background:#06b6d420;border:1px solid #06b6d430;color:var(--cyan)}

/* AGENTS */
.agents-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.agent-chip{padding:4px 12px;border-radius:99px;font-size:11px;font-weight:600;border:1px solid var(--border);background:var(--card);color:var(--muted)}
.agent-chip.active{color:var(--accent);border-color:#a855f730;background:#a855f710}

/* VERTICALS */
.verticals{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;padding:24px;border-top:1px solid var(--border)}
.vert{background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:14px;cursor:pointer;transition:border-color .2s}
.vert:hover,.vert.selected{border-color:var(--accent)}
.vert-icon{font-size:22px;margin-bottom:6px}
.vert-name{font-size:12px;font-weight:700;margin-bottom:2px}
.vert-desc{font-size:10px;color:var(--muted)}

@media(max-width:640px){.steps{grid-template-columns:1fr}.step{border-right:none;border-bottom:1px solid var(--border)}.result-grid{grid-template-columns:1fr}.verticals{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>

<nav class="gnav">
  <div class="gnav-inner">
    <a href="index.html" class="gnav-brand">
      <div class="gnav-logo">P</div>
      <span class="gnav-title">Punky</span>
    </a>
    <span class="gnav-badge">‚óè Platform Online</span>
    <a href="https://console.jspriggins.com" target="_blank" class="gnav-cta">Open Console ‚Üí</a>
  </div>
</nav>

<div class="hero">
  <div class="hero-tag">Interactive Demo</div>
  <h1>See Punky <span>in action</span></h1>
  <p>Provision a real, isolated tenant in seconds. Run live agent tasks against actual infrastructure ‚Äî no sandboxes, no mocks.</p>
</div>

<div class="demo-wrap">
  <div class="demo-card">
    <div class="demo-card-header">
      <div class="demo-dot"></div>
      <div>
        <h2>Live Demo Environment</h2>
        <p>Connects to production API at api.jspriggins.com ¬∑ Tenant expires after 24 hours</p>
      </div>
    </div>

    <!-- Steps indicator -->
    <div class="steps">
      <div class="step" id="step1">
        <div class="step-num">Step 1</div>
        <h3>Choose a vertical</h3>
        <p>Select the industry use case to pre-load relevant agents and sample data</p>
        <div class="step-status pending" id="step1-status">Waiting</div>
      </div>
      <div class="step" id="step2">
        <div class="step-num">Step 2</div>
        <h3>Provision tenant</h3>
        <p>Punky creates an isolated tenant with pre-seeded agents and run history</p>
        <div class="step-status pending" id="step2-status">Waiting</div>
      </div>
      <div class="step" id="step3">
        <div class="step-num">Step 3</div>
        <h3>Explore live</h3>
        <p>Open the console with your demo token ‚Äî all features unlocked, full audit trail</p>
        <div class="step-status pending" id="step3-status">Waiting</div>
      </div>
    </div>

    <!-- Vertical selector -->
    <div class="verticals" id="vert-section">
      <div class="vert selected" data-v="esg" onclick="selectVert(this,'esg')">
        <div class="vert-icon">üå±</div>
        <div class="vert-name">ESG &amp; Sustainability</div>
        <div class="vert-desc">CSRD, GRI, carbon reporting</div>
      </div>
      <div class="vert" data-v="research" onclick="selectVert(this,'research')">
        <div class="vert-icon">üî¨</div>
        <div class="vert-name">Research &amp; Intelligence</div>
        <div class="vert-desc">Multi-source synthesis</div>
      </div>
      <div class="vert" data-v="dev" onclick="selectVert(this,'dev')">
        <div class="vert-icon">‚ö°</div>
        <div class="vert-name">Software Development</div>
        <div class="vert-desc">Code, PR review, CI</div>
      </div>
      <div class="vert" data-v="compliance" onclick="selectVert(this,'compliance')">
        <div class="vert-icon">üõ°Ô∏è</div>
        <div class="vert-name">Compliance &amp; Audit</div>
        <div class="vert-desc">Policy monitoring, SIEM</div>
      </div>
      <div class="vert" data-v="hr" onclick="selectVert(this,'hr')">
        <div class="vert-icon">üë•</div>
        <div class="vert-name">HR &amp; Talent</div>
        <div class="vert-desc">Onboarding, policy Q&A</div>
      </div>
    </div>

    <!-- Launch controls -->
    <div class="launch">
      <div class="launch-form">
        <select class="launch-select" id="plan-select">
          <option value="pro">Pro plan (demo)</option>
          <option value="enterprise">Enterprise plan (demo)</option>
        </select>
        <button class="launch-btn" id="launch-btn" onclick="provision()">
          ‚ö° Provision Demo Tenant
        </button>
      </div>
      <p class="launch-note">Takes ~3 seconds ¬∑ No account needed ¬∑ Tenant auto-expires in 24h ¬∑ Isolated namespace, zero data leakage</p>

      <!-- Terminal output -->
      <div class="terminal" id="terminal">
        <div class="terminal-bar">
          <div class="t-dot"></div><div class="t-dot"></div><div class="t-dot"></div>
          <span class="terminal-label">punky-api ¬∑ demo provisioning</span>
        </div>
        <div class="terminal-body" id="term-body"></div>
      </div>

      <!-- Result card -->
      <div class="result-card" id="result-card">
        <div class="result-title">‚úÖ Demo tenant provisioned successfully</div>
        <div class="result-grid">
          <div class="result-item">
            <div class="result-label">Tenant ID</div>
            <div class="result-val accent" id="r-tenant-id">‚Äî</div>
          </div>
          <div class="result-item">
            <div class="result-label">Admin Email</div>
            <div class="result-val" id="r-email">‚Äî</div>
          </div>
          <div class="result-item">
            <div class="result-label">Vertical</div>
            <div class="result-val green" id="r-vertical">‚Äî</div>
          </div>
          <div class="result-item">
            <div class="result-label">Expires</div>
            <div class="result-val" id="r-expires">24 hours</div>
          </div>
        </div>
        <div class="result-label" style="margin-bottom:8px">Pre-loaded agents</div>
        <div class="agents-row" id="r-agents"></div>
        <div class="result-actions" id="r-actions"></div>
      </div>
    </div>
  </div>

  <!-- What happens next -->
  <div style="text-align:center;margin-top:40px;color:var(--muted);font-size:13px">
    Want a guided walkthrough for your team?
    <a href="mailto:simon@jspriggins.com" style="color:var(--accent);text-decoration:none;margin-left:4px">Book a 30-minute session ‚Üí</a>
  </div>
</div>

<script>
const API = 'https://api.jspriggins.com';
let selectedVert = 'esg';
let demoToken = null;

const vertLabels = {
  esg: 'ESG & Sustainability',
  research: 'Research & Intelligence',
  dev: 'Software Development',
  compliance: 'Compliance & Audit',
  hr: 'HR & Talent'
};

function selectVert(el, v) {
  document.querySelectorAll('.vert').forEach(e => e.classList.remove('selected'));
  el.classList.add('selected');
  selectedVert = v;
  setStepStatus(1, 'done');
}

function setStepStatus(n, state) {
  const labels = {pending:'Waiting', active:'In progress‚Ä¶', done:'Done ‚úì'};
  const el = document.getElementById(`step${n}-status`);
  el.className = `step-status ${state}`;
  el.textContent = labels[state];
}

function log(html) {
  const t = document.getElementById('term-body');
  t.innerHTML += `<p class="t-line">${html}</p>`;
  t.scrollTop = t.scrollHeight;
}

function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

async function provision() {
  const btn = document.getElementById('launch-btn');
  btn.disabled = true;
  document.getElementById('terminal').classList.add('show');
  document.getElementById('result-card').classList.remove('show');
  document.getElementById('term-body').innerHTML = '';
  demoToken = null;

  setStepStatus(1, 'done');
  setStepStatus(2, 'active');
  setStepStatus(3, 'pending');

  const ts = Date.now().toString().slice(-6);
  const slug = `demo${ts}`;
  const email = `${slug}@demo.punky.dev`;
  const pw = 'DemoAccess2026!';

  log(`<span class="t-prompt">$</span> <span class="t-dim">punky bootstrap</span>`);
  log(`<span class="t-dim">  Vertical: ${vertLabels[selectedVert]}</span>`);
  log(`<span class="t-dim">  Tenant:   ${slug}</span>`);
  await sleep(400);

  // Step 1: Bootstrap a real tenant
  let tok;
  try {
    const r = await fetch(`${API}/v1/bootstrap`, {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        tenant_name: `Demo ${ts}`,
        tenant_slug: slug,
        owner_name: 'Demo User',
        owner_email: email,
        owner_password: pw,
      })
    });
    const d = await r.json();
    if (!d.access_token) throw new Error(d.detail || JSON.stringify(d));
    tok = d.access_token;
    demoToken = tok;
    log(`<span class="t-ok">‚úì</span> <span class="t-dim">Tenant created (id: ${(d.tenant_id||'').slice(0,8)}‚Ä¶)</span>`);
    log(`<span class="t-ok">‚úì</span> <span class="t-dim">Admin user provisioned</span>`);
  } catch(e) {
    log(`<span class="t-err">‚úó Bootstrap failed: ${e.message}</span>`);
    btn.disabled = false;
    setStepStatus(2, 'pending');
    return;
  }
  await sleep(300);

  const auth = { 'Authorization': `Bearer ${tok}`, 'Content-Type': 'application/json' };

  // Step 2: Create vertical-specific agents
  const agentSets = {
    esg:        [['ESG Copilot','CSRD/GRI sustainability reporting, gap analysis, KPI extraction'],
                 ['Carbon Analyst','Scope 1-3 emissions calculation, SBTi pathway analysis'],
                 ['Disclosure Drafter','EU Taxonomy alignment, TCFD climate risk narratives']],
    research:   [['Research Agent','Multi-source synthesis with citation and fact verification'],
                 ['Trend Analyst','Market intelligence, competitive landscape monitoring'],
                 ['Report Writer','Structured research reports with executive summaries']],
    dev:        [['Code Assistant','Full-stack development, PR review, GitHub integration'],
                 ['Architect Agent','System design, ADR drafting, dependency analysis'],
                 ['Test Generator','Unit, integration, and E2E test scaffolding']],
    compliance: [['Compliance Guard','Policy monitoring, regulatory change alerts'],
                 ['Audit Tracer','Audit log analysis, anomaly detection, SIEM export'],
                 ['Risk Assessor','Third-party risk scoring, supplier due diligence']],
    hr:         [['HR Copilot','Policy Q&A, onboarding automation, handbook navigation'],
                 ['Talent Analyst','CV screening, skills gap analysis, succession planning'],
                 ['Culture Monitor','Sentiment analysis on surveys and feedback']]
  };

  const agents = agentSets[selectedVert] || agentSets.esg;
  const createdAgents = [];

  for (const [name, desc] of agents) {
    await sleep(200);
    try {
      const ar = await fetch(`${API}/v1/agents`, {
        method: 'POST', headers: auth,
        body: JSON.stringify({ name, description: desc })
      });
      const ad = await ar.json();
      if (ar.ok && ad.id) {
        createdAgents.push({ id: ad.id, name });
        log(`<span class="t-ok">‚úì</span> <span class="t-dim">Agent created: ${name}</span>`);
      } else {
        log(`<span class="t-amber">‚ö°</span> <span class="t-dim">Agent ${name}: ${ar.status}</span>`);
        createdAgents.push({ id: null, name });
      }
    } catch { createdAgents.push({ id: null, name }); }
  }

  // Step 3: Seed sample run history
  await sleep(200);
  log(`<span class="t-dim">  Seeding run history‚Ä¶</span>`);

  const runScenarios = {
    esg:        ['CSRD gap analysis ‚Äî Scope 1 & 2 emissions baseline','GRI 305 carbon footprint disclosure draft','EU Taxonomy alignment assessment Q1'],
    research:   ['Competitive landscape analysis ‚Äî AI agent market','Emerging regulation tracker ‚Äî EU AI Act implementation','Patent landscape synthesis ‚Äî autonomous systems'],
    dev:        ['Architecture review ‚Äî microservices to modular monolith','PR review: authentication refactor 847 lines','Test coverage gap analysis ‚Äî runs module'],
    compliance: ['SOC 2 Type II evidence collection','GDPR data mapping ‚Äî customer PII inventory','Third-party vendor risk assessment ‚Äî Q1 2026'],
    hr:         ['Onboarding checklist automation ‚Äî 23 new hires','Policy update gap analysis ‚Äî remote work handbook','Talent review calibration support ‚Äî engineering']
  };

  const scenarios = runScenarios[selectedVert] || runScenarios.esg;
  const agentId = createdAgents[0]?.id;

  for (const prompt of scenarios) {
    await sleep(150);
    if (!agentId) { log(`<span class="t-dim">  (skipping run seed ‚Äî no agent id)</span>`); break; }
    try {
      await fetch(`${API}/v1/runs`, {
        method: 'POST', headers: auth,
        body: JSON.stringify({ agent_id: agentId, input_text: prompt })
      });
      log(`<span class="t-ok">‚úì</span> <span class="t-dim">Run seeded: ${prompt.slice(0,55)}‚Ä¶</span>`);
    } catch { log(`<span class="t-dim">  Run ${prompt.slice(0,40)} (seeded offline)</span>`); }
  }

  await sleep(300);
  log(`<span class="t-cyan">‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ</span>`);
  log(`<span class="t-ok">‚úÖ Demo tenant ready</span>`);
  log(`<span class="t-dim">   Token copied to result card ‚Üì</span>`);

  setStepStatus(2, 'done');
  setStepStatus(3, 'done');

  // Show result
  const card = document.getElementById('result-card');
  card.classList.add('show');

  // Try to get tenant_id from me endpoint
  let tenantId = 'provisioned';
  try {
    const mr = await fetch(`${API}/v1/auth/me`, { headers: auth });
    const md = await mr.json();
    tenantId = md.tenant_id || tenantId;
  } catch {}

  document.getElementById('r-tenant-id').textContent = tenantId.slice(0,8) + '‚Ä¶';
  document.getElementById('r-email').textContent = email;
  document.getElementById('r-vertical').textContent = vertLabels[selectedVert];
  document.getElementById('r-expires').textContent = new Date(Date.now() + 86400000).toLocaleString();

  const row = document.getElementById('r-agents');
  row.innerHTML = createdAgents.map(a =>
    `<span class="agent-chip active">${a.name}</span>`
  ).join('');

  const consoleUrl = `https://console.jspriggins.com?demo_token=${tok}`;
  document.getElementById('r-actions').innerHTML = `
    <a href="${consoleUrl}" target="_blank" class="result-btn primary">Open in Console ‚Üí</a>
    <button onclick="copyToken()" class="result-btn copy">üìã Copy Token</button>
    <a href="https://api.jspriggins.com/docs" target="_blank" class="result-btn secondary">API Docs</a>
  `;

  btn.disabled = false;
}

function copyToken() {
  if (!demoToken) return;
  navigator.clipboard.writeText(demoToken).then(() => {
    const b = document.querySelector('.result-btn.copy');
    const orig = b.textContent;
    b.textContent = '‚úì Copied!';
    setTimeout(() => b.textContent = orig, 1800);
  });
}
</script>
</body>
</html>
